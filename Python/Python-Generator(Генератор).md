# Generator (Генератор)

**Функция-генератор** — это [функция](Python-Функции.md), использующая оператор`yield`.

Это такая вещь которая умеет принимать и отдавать управление.

Функция выполняется до`return`, в момент выполнения`return`она вернула 
результат выполнения и забыла, что она выполнялась.

*Функция-генератор* помнит и может заново принять на себя управление, работает
от`yeild`до`yeild`. 

```python
>>> def generator_func():
...     yield 1
...     yield 2
...     yield 3
```
`generator_func()`— обычная функция <br>
Но вызывая ее создаем объект ***генератора***:
```python
>>> gen = generator_func()
>>> gen
<generator object generator_func at 0x7f515ca3bd80>
```
Полученный *генератор* выполняется вызовом`next()`:
```python
>>> next(gen)
1
>>> next(gen)
2
>>> next(gen)
3
>>> next(gen)
Traceback (most recent call last):
    ...
StopIteration
```
Тело функции будет выполняться до тех пор, пока не встретит оператор`yield`:
```python
>>> def generator_func():
...     yield 1
...     print("Boby..")
...     yield 2
...     print("Boby too..")
...     yield 3
... 
>>> gen = generator_func()
>>> next(gen)
1
>>> next(gen)
Boby..
2
>>> next(gen)
Boby too..
3
>>> next(gen)
Traceback (most recent call last):
    ...
StopIteration
```
`yield`отдает значение, затем *функция-генератор* приостанавливается до следующего вызова <br>
если вызов осуществляется (а его может и не быть) *функция-генератор* возобновляет выполнение.

Если *функция-генератор* встретит`return`до`yield`вызовется исключение`StopIteration` <br>
(если функция завершается без явного`return`Python по существу возвращает значение`None`).

По факту, генератор — это [итератор](Python-Iterator&Iterable.md) <br>
(он реализует *протокол итератора*: `__iter__`,`__next__`,`StopIteration`)

Генераторы по своей сути являются **ленивыми итераторами** (и могут быть бесконечными)

В отличие от списков, они *ленивы* и поэтому работают с текущим элемент только по запросу. 
Таким образом, они намного эффективнее используют память при работе с большими наборами данных.




---
Статья [тут](https://webdevblog.ru/vvedenie-v-generatory-python/)


