# Abstraction - Абстракция

`Абстракция` — второстепенная парадигма [ООП](ООП.md).

**Абстракция** — это предварительное описание без реализации 
(заготовка для будущего класса (метода)).

## Абстрактный класс
**Абстрактный класс** — это класс, у которого не реализован один или больше 
методов.

Абстрактный класс имеет некоторые особенности, а именно:
- Абстрактный класс не содержит всех реализаций методов, необходимых для 
полной работы, это означает, что он содержит один или несколько абстрактных 
методов. Абстрактный метод - это только объявление метода, без его подробной
реализации.
- Абстрактный класс предоставляет интерфейс для подклассов, чтобы избежать 
дублирования кода. Нет смысла создавать экземпляр абстрактного класса.
- Производный подкласс должен реализовать абстрактные методы для создания
конкретного класса, который соответствует интерфейсу, определенному 
абстрактным классом. Следовательно, экземпляр не может быть создан, пока не 
будут переопределены все его абстрактные методы.

Абстрактный класс — хорошая практика принципа DRY. В большом проекте 
дублирование кода примерно равно повторному использованию ошибок, и один 
разработчик не может запомнить детали всех классов. 
Поэтому очень полезно использовать абстрактный класс для определения 
**общего интерфейса** для различных реализаций.

### Определение абстрактного класса
Python поставляется с модулем под названием `abc`, который предоставляет 
полезные вещи для абстрактного класса. <br> 
Абстрактный класс можно определить с помощью класса `abc.ABC`, <br>
а абстрактный метод определить с помощью `abc.abstractmethod`. <br>
ABC - это аббревиатура, сокращение от слов абстрактный базовый класс.

*Примечание:* Класс не является настоящим абстрактным, если он имеет 
абстрактные методы, но не наследуется от `abc.ABC`, это означает, что он 
может быть создан.

Например:
```python
from abc import ABC, abstractmethod

class Animal(ABC):
    @abstractmethod
    def move(self):
        pass

a = Animal() 
# TypeError: Can't instantiate abstract class Animal with abstract methods move

class Animal():
    @abstractmethod
    def move(self):
        pass

a = Animal()
```

### Определение абстрактного метода абстрактного класса
Декоратор`@abstractmethod`может использоваться для объявления абстрактных 
методов свойств и дескрипторов требует, чтобы метакласс класса был `ABCMeta` 
или производным от него. <br> 
Абстрактный класс не может быть создан, пока не будут переопределены все 
его абстрактные методы и свойства.

На самом деле абстрактный метод в Python не обязательно должен быть 
"полностью абстрактным", что отличается от некоторых других 
объектно-ориентированных языков программирования. Можно определить некоторые 
общие вещи в абстрактном методе и использовать функцию `super()` для вызова 
его в подклассах.
```python
from abc import ABC, abstractmethod

class Animal(ABC):
    @abstractmethod
    def move(self):
        print('Animal moves')

class Cat(Animal):
    def move(self):
        super().move()
        print('Cat moves')

c = Cat()
c.move()
# Animal moves
# Cat moves
```

## Интерфейс
**Интерфейс** — это абстрактный класс, у которого *ни один метод* не 
реализован, все они публичные и нет переменных класса.

Интерфейс нужен обычно когда описывается только интерфейс (тавтология). <br>
Например, один класс хочет дать другому возможность доступа к некоторым 
своим методам, но не хочет себя «раскрывать». <br>
Поэтому он просто реализует интерфейс.

Абстрактный класс нужен, когда нужно семейство классов, у которых есть много общего. Конечно, можно 
применить и интерфейс, но тогда нужно будет писать много идентичного кода.

Можно считать, что любой интерфейс — это уже абстрактный класс, но не 
наоборот.

Интерфейсы — сущность декларативная, они не ставят никаких рамок; просто утверждается, 
что класс реализует, а его объект предоставляет интерфейс.