# MVT - Model (Модели)

Из документации Django:
>Модель — это единственный и окончательный источник информации о ваших данных. 
> Он содержит основные поля и поведение данных, которые вы храните. 
> Как правило, каждая модель сопоставляется с одной таблицей базы данных.

Основы:
- каждая модель представляет собой класс Python, который является подклассом 
`django.db.models.Model`;
- каждый *атрибут модели* представляет *поле [базы данных](БД.md)*;
- cо всем этим Django предоставляет автоматически сгенерированный API доступа к базе данных.

```python
from django.db import models

class Person(models.Model):
    first_name = models.CharField(max_length=30)
    last_name = models.CharField(max_length=30)
```
`first_name` и `last_name` являются **полями модели**.<br>
Каждое **поле модели** указывается как **атрибут класса**, 
и каждый атрибут сопоставляется со **столбцом базы данных**.

Приведенная выше модель `Person` создаст таблицу базы данных следующим образом:
```python
CREATE TABLE myapp_person (
    "id" serial NOT NULL PRIMARY KEY,
    "first_name" varchar(30) NOT NULL,
    "last_name" varchar(30) NOT NULL
);
```
Некоторые технические примечания:
- имя таблицы `myapp_person` автоматически получается из некоторых метаданных модели, 
но может быть переопределено (db_table=);
- поле `id` добавляется автоматически, но это поведение можно переопределить (primary_key=);


### Поля
___

Самая важная часть модели — и единственная необходимая часть модели — это список 
определяемых ею **полей базы данных**.<br>
***Поля задаются атрибутами класса***

####  Типы полей
Каждое поле в модели должно быть экземпляром соответствующего `Field` класса.<br> 
Django использует типы классов полей, чтобы определить несколько вещей:
- тип столбца, который сообщает базе данных, какие данные следует хранить 
(*например*, `INTEGER`, `VARCHAR`, `TEXT`);
- виджет HTML по умолчанию для использования при отображении поля [формы](Django-Формы(Form%20&%20ModelForm).md) (*например*,
`<input type="text">`, `<select>`;
- минимальные требования проверки, используемые в админке Django и в автоматически сгенерированных формах.

Справочник по [полям модели](https://docs.djangoproject.com/en/4.0/ref/models/fields/#model-field-types)

#### Параметры поля

Каждое поле принимает определенный набор специфичных для поля аргументов...

Следующие аргументы доступны для всех типов полей. Все необязательны:

- `null=`  — по умолчанию `False` <br>

Если `True` Django будет хранить пустые значения, как `NULL` в базе данных.

Избегайте использования `null` строковых полей, таких как `CharField` и `TextField`.<br>
Если строковое поле имеет `null=True`, это означает, что оно может иметь два 
возможных значения для «нет данных»: `NULL` и пустая строка. <br>
Соглашение Django заключается в использовании пустой строки, а не `NULL`.

Единственным исключением является случай, когда у `CharField` есть `unique=True` и 
`blank=True`. В этой ситуации `null=True` необходимо для избегания нарушений 
уникальных ограничений при сохранении нескольких объектов с пустыми значениями.

- `blank=`  — по умолчанию `False` <br>

Если `True`, поле может быть пустым.

Обратите внимание, что это отличается от `null`.<br>
`null` связан исключительно с *базой данных*, тогда как `blank` связан с проверкой.<br>
Если поле имеет `blank=True` — проверка формы позволит ввести пустое значение.<br>
Если поле имеет `blank=False` — это поле будет обязательным.

- `default`

Значение по умолчанию для поля.<br> Это может быть значение или вызываемый объект.<br>
Если он вызывается, он будет вызываться каждый раз при создании нового объекта.<br>
Значение по умолчанию не может быть изменяемым объектом.

- `verbose_name`

Понятное для человека имя поля.<br>
Если подробное имя не указано, Django автоматически создаст его, используя имя 
атрибута поля, преобразуя символы подчеркивания в пробелы.


Справочник по [параметрам поля модели](https://docs.djangoproject.com/en/4.0/ref/models/fields/#common-model-field-options)

---

Документация Django - [Модели](https://docs.djangoproject.com/en/4.0/topics/db/models/#module-django.db.models)<br>
Лекция [тут](https://github.com/PonomaryovVladyslav/PythonCources/blob/master/lesson30.md)

___