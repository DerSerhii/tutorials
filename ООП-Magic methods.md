# Magic methods

__`__magic_methods__`__ — это методы, которые отвечают за любые действия под "капотом".

Они всегда обрамлены двумя нижними подчеркиваниями.

### Конструктор, инициализатор, деструктор(финализатор) класса

`__new__(cls) и __init__(self)` — **конструктор** класса <br> 
`__init__(self)` — **инициализатор** класса <br>
`__del__(self)` — **деструктор** | **финализатор** класса <br>

Конструктор объекта:
- Шаг 1. Создание объекта в памяти устройства (метод `__new__`) <br>
- Шаг 2. Инициализация - создание локальных свойств|атрибутов объекта (метод `__init__`) <br>


Подробнее — [Конструктор, инициализатор, деструктор класса ](ООП-Magic-new,init,del.md)

### Магические методы сравнения

Подробнее

### Обычные арифметические операторы

Подробнее 

### Магические методы преобразования типов

Подробнее 

### Магические методы представления своих классов

Часто бывает полезно представление класса в виде строки. <br> 
В python есть несколько методов, которые можно определить для 
настройки поведения встроенных [функций](Python-Функции.md) при представлении вашего класса.

`__str__(self)` — определяет поведение функции `str()`, вызванной для экземпляра вашего класса.

`__repr__(self)` — определяет поведение функции `repr()`, вызванной для экземпляра вашего класса. 

Главное отличие данных методов в целевой аудитории:
- `repr()` — предназначен для машинно-ориентированного вывода <br> 
(более того, это часто должен быть валидный код на python); 
- `str()` — предназначен для чтения людьми.

Подробнее [будет]

### Протоколы
Подробнее 

### Вызываемые объекты
Как вы наверное уже знаете, в Питоне функции являются объектами первого класса. Это означает, что они могут быть переданы в функции или методы так же, как любые другие объекты. Это невероятно мощная особенность.

Специальный магический метод позволяет экземплярам вашего класса вести себя так, как будто они функции, тоесть вы сможете «вызывать» их, передавать их в функции, которые принимают функции в качестве аргументов и так далее. Это другая удобная особенность, которая делает программирование на Питоне таким приятным.

`__call__(self, [args...])`

Позволяет любому экземпляру вашего класса быть вызванным как-будто он функция. Главным образом это означает, что `x()` означает то же, что и `x.__call__()`. Заметьте, `__call__` принимает произвольное число аргументов; то есть, вы можете определить `__call__` так же как любую другую функцию, принимающую столько аргументов, сколько вам нужно.


`__call__`, в частности, может быть полезен в классах, чьи экземпляры часто изменяют своё состояние. «Вызвать» экземпляр может быть интуитивно понятным и элегантным способом изменить состояние объекта. Примером может быть класс, представляющий положение некоторого объекта на плоскости:
```python
class Entity:
    '''Класс, описывающий объект на плоскости. "Вызываемый", чтобы обновить позицию объекта.'''

    def __init__(self, size, x, y):
        self.x, self.y = x, y
        self.size = size

    def __call__(self, x, y):
        '''Изменить положение объекта.'''
        self.x, self.y = x, y
```



[Лекция тут](https://github.com/PonomaryovVladyslav/PythonCources/blob/master/lesson16.md)