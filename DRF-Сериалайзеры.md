# Сериалайзеры

***Сериалайзер*** в [DRF](DRF.md) - это класс для преобразования данных в требуемый формат (Обычно JSON).

***Сериализация*** - это процесс преобразования данных в формат, который может быть сохранен или 
передан, с последующим его восстановлением. 

### Поля и их особенности

Любое из полей может иметь такие аргументы:

`read_only` - Поле только для чтения, используется для полей которые не планируются к заполнению (например время создания комментария), но планируются к чтению (например отобразить когда был написан комментарий). Такие поля не принимаются при создании или изменении. По дефолту False

`write_only `- Ровно наоборот, поля не планируемые для отображения, но необходимые для записи (Пароль, номер карточки, итд.). По дефолту False

`required` - Обязательность поля, поле которое можно не указывать при создании\изменении, но его же может и не быть при чтении, допустим отчество. По дефолту True

`default` - Значение по умолчанию, если не указано ничего другого. Не поддерживается при частичном обновлении,

`allow_null` - Позволить значению поля быть None. По дефолту False.

`source` - Поле значение которого необходимо получить в модели, допустим при помощи какого-то метода 
(вычисление полного адреса из его частей при помощи метода модели и декоратора
property, `CharField(source='get_full_address'))`, или из какого-то вложенного 
объекта (Foreign Key на юзера, но необходим только его имейл, а не целый объект, 
`EmailField(source='user.email'))`. 
Имеет спец значение `*` обозначает что источник данных будет передан позже, тогда его нужно будет указать в необходимых методах. По дефолту, это имя поля.

`validators` - Список валидаторов, о нём поговорим ниже

`error_messages` - Словарь с кодом ошибок.

### Вложенные сериалайзеры:

Сериалайзер, может полем другого сериалайзера, такие сериалайзеры, называются 
***вложенными***.

Вложенное поле с атрибутом __`many=True`__  означает что оно принимает ***список*** 
или [***кверисет***](Django-ORM.md) таких объектов.

### Передача данных в разные стороны

Когда мы обрабатываем данные полученные от пользователя (например запрос), то мы 
передаём данные в сериалайзер через атрибут `data=` и после этого обязаны 
***провалидировать*** данные, так как там могут быть ошибки.

Если ошибок нет, то данные будут находиться в атрибуте `validated_data`.

Но если мы сериализуем данные которые мы взяли из базы, нам нет необходимости их 
валидировать, и мы передаём их без каких либо аттрибутов, 
данные будут находится в аттрибуте `data`.

### Метод save
У моделсериалайзеров, по аналогии с [моделформами](Django-Формы(Form & ModelForm).md), есть метод 
`save()`, но в отличие от моделформ, дополнительные данные можно передать 
прямо в атрибуты метода сейв.

